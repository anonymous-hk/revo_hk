---
layout: default
title: Live activity map (status-> Active)
lang: en
---
<h3>{{ page.title }}</h3>
<p>
	<ul class="legend">
	<longspan> (last update 2019-08-06 02:00) Activity Level: low</longspan>
    <span class="no"></span>
    <span class="low"></span>
    <span class="middle"></span>
    <span class="high"></span>
    <longspan> high</longspan>
	</ul>
</p>

<iframe sandbox="allow-popups allow-scripts allow-forms allow-same-origin" src="{{site.url}}{{site.baseurl}}/map/hkmap.html" marginwidth="0" marginheight="0" style="width:1200px; height:800px;" scrolling="no"></iframe>
<a target="_blank" title="Enter map in fullscreen" href="{{site.url}}{{site.baseurl}}/map/hkmap.html">Enter map in fullscreen <svg height="16" width="12"><path d="M11 10h1v3c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V3c0-0.55 0.45-1 1-1h3v1H1v10h10V10zM6 2l2.25 2.25-3.25 3.25 1.5 1.5 3.25-3.25 2.25 2.25V2H6z"></path></svg></a>
<br>
<br>
<h3> Lastest news data </h3>
<div style="height:300px;width:1200px;overflow:auto;border:2px solid grey;padding:2%">
	<p id="newsfeed">Loading</p>
		<script type="text/javascript">

			var url = 'https://newsapi.org/v2/top-headlines?' +
	          'q=Hong Kong&' +
	          'sortBy="Date published"&' +
	          'apiKey=fa2f05261a064140b50f5adfd0a12566';

	        var req = new Request(url);

			fetch(req)
		    .then(function(response) {
		        return response.json();
		    })
		    .then(function(json) {
		        var text = '';
		        if (json.status == "ok"){
					for (newsobj of json.articles) {
					  	text += '[' + newsobj.publishedAt + '](' + newsobj.source.name + ')<a href="' + newsobj.url + '">' + newsobj.title + '</a>' + '<br>';
					}

		        	document.getElementById("newsfeed").innerHTML = text;
		        }
		        else {
		        	document.getElementById("newsfeed").innerHTML = "The new scapper encountered technical problem. Please try again later";
		        }
		    })

		</script>
</div>